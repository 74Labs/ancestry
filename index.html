<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Plotify by biosustain</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/custom.css" media="screen">
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Plotify</h1>

    <h2 class="project-tagline"></h2>
    <a href="https://github.com/biosustain/plotify" class="btn">View on GitHub</a>
    <a href="https://github.com/biosustain/plotify/zipball/master" class="btn">Download .zip</a>
    <a href="https://github.com/biosustain/plotify/tarball/master" class="btn">Download .tar.gz</a>
</section>

<section class="main-content">
    <h2>
        <a id="plotify" class="anchor" href="#plotify" aria-hidden="true"><span aria-hidden="true"
                                                                                class="octicon octicon-link"></span></a>Plotify
    </h2>

    <p>Plotify is an angular module consisting of a number of directives allowing to generate interactive lineage plots
        based on <a href="https://help.github.com/pages">d3.js</a>.</p>

    <h2>
        <a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true"
                                                                            class="octicon octicon-link"></span></a>Usage
    </h2>

    <div>
        There are currently 4 types of plots offered by Plotify:
        <ul>
            <li><a href="#lineage-plot">Lineage</a></li>
            <li><a href="#lineage-scatter-plot">Lineage-scatter</a></li>
            <li><a href="#radial-lineage-plot">Radial lineage</a></li>
            <li><a href="#radial-phylogenetic-tree">Radial phylogenetic tree</a></li>
        </ul>
        The plots are generated by sending a configuration JSON as an attribute to a directive. The object should
        consist of
        two properties:
        <ul>
            <li><code>data</code></li>
            <li><code>layout</code></li>
        </ul>
        The role of these attributes is self-explanatory, but their form might differ between particular plots and will
        be
        described in sections below.
        <h3 id="lineage-plot">Lineage</h3>
        Directive: <code>&lt;lineage-plot&gt;&lt;/lineage-plot&gt;</code><br/>
        Attributes:
        <ul>
            <li><code>value</code> - input for plot configuration JSON</li>
            <li><code>selectedNodes</code> - array with names of nodes selected in the plot</li>
        </ul>
        Data format: the data for lineage plot should be arranged as an array of node objects. Each object should have
        following properties:
        <ul>
            <li><code>name</code> <span class="prop-type">(string)</span> - name of the node</li>
            <li><code>parent</code> <span class="prop-type">(string | null)</span> - name of the parent node</li>
            <li><code>z</code> <span class="prop-type">(optional: number)</span> - value for heatmap layer</li>
            <li><code>type</code> <span class="prop-type">(optional: string)</span> - type of the node</li>
            <li><code>series</code> <span class="prop-type">(optional: string)</span> - name of the series the node
                belongs
                to
            </li>
        </ul>
        Layout:
        <ul>
            <li><code>title</code> <span class="prop-type">(string || default: "")</span><span class="prop-desc">The title of the plot.</span>
            </li>
            <li><code>axis</code>
                <ul>
                    <li><code>title</code> <span class="prop-type">(string || default: "")</span><span
                            class="prop-desc">The title of the (horizontal) axis.</span>
                    </li>
                    <li><code>show</code> <span class="prop-type">(true | false || default: true)</span><span
                            class="prop-desc">Determines whether the axis is drawn.</span></li>
                    <li><code>gridOnly</code> <span class="prop-type">(true | false || default: false)</span><span
                            class="prop-desc">Determines whether only the grid is displayed (axis and ticks are hidden). Note: Only works when <code>axis.show</code> is set to true.</span>
                    </li>
                </ul>
            </li>
            <li><code>nodeTypes</code> <span class="prop-type">(object || default: {})</span>
                <span class="prop-desc">Dictionary with node types. Node types should be string keys, values should be objects with attributes of SVG circle such as <code>stroke-width</code>, <code>r</code> etc. Changing colours should be avoided as it is also controlled by series and could interfere.</span>
            </li>
            <li><code>nodeLabel</code> <span class="prop-type">(object || default: { font-size: 12 })</span><span
                    class="prop-desc">Object with SVG text attributes defining appearance of node labels</span></li>
            <li><code>link</code> <span
                    class="prop-type">(object || default: { stroke: #ccc, stroke-width: 1 })</span><span
                    class="prop-desc">Object with SVG path attributes defining appearance of links between nodes</span>
            </li>
            <li><code>maxZoom</code> <span class="prop-type">(number not smaller than 1 || default: 10)</span><span
                    class="prop-desc">Determines maximum zoom. If no zooming is intended, this should be set to 1.</span>
            </li>
            <li><code>labelCollisionDetection</code> - described in <a href="#shared-lcd">shared features section</a>
            </li>
            <li><code>groupSelection</code> - described in <a href="#shared-group-sel">shared features section</a></li>
            <li><code>heatmap</code> - described in <a href="#shared-heatmap">shared features section</a></li>
            <li><code>legend</code> - described in <a href="#shared-series">shared features section</a></li>
        </ul>
        <h3 id="lineage-scatter-plot">Lineage-scatter</h3>
        Directive: <code>&lt;lineage-scatter-plot&gt;&lt;/lineage-scatter-plot&gt;</code>

        <h3 id="radial-lineage-plot">Radial lineage</h3>
        Directive: <code>&lt;radial-lineage-plot&gt;&lt;/radial-lineage-plot&gt;</code>

        <h3 id="radial-phylogenetic-tree">Radial phylogenetic tree</h3>
        Directive: <code>&lt;radial-phylogenetic-tree&gt;&lt;/radial-phylogenetic-tree&gt;</code>
    </div>
    <h2>Shared features</h2>

    <div>
        <h3 id="shared-lcd">Label collision detection</h3>
        <p>
        Label collision detection is available only for lineage and lineage-scatter plots. It takes care of hiding
        colliding
        labels so that the plot stays clean and readable.
        </p>
        <p>
        Definition in layout:
        </p>
        <div>
            <code>labelCollisionDetection</code>:
            <ul>
                <li><code>enabled</code> <span class="prop-type">(false | "onInit" | "onEveryChange" | "onDelay" || default: false)</span>
                <span class="prop-desc">If <span class="prop-type">false</span>, the collision detection will be switched off and all labels will be shown at all times. If <span
                        class="prop-type">"onInit"</span>, the collisions will be handled only once - during plot initialization. If <span
                        class="prop-type">"onEveryChange"</span>, the collisions will be resolved upon every zoom or pan operation. In case there are numerous nodes, it might introduce too much lag as many computations have to be done upon each change. If <span
                        class="prop-type">"onDelay"</span>, the collision detection will trigger only after an interval specified as <code>updateDelay</code> from the last zoom/pan action. This might be the best option for visualizations with a couple of hundreds of nodes.</span>
                </li>
                <li><code>updateDelay</code> <span class="prop-type">(number || default: 500)</span>
                <span class="prop-desc">Determines the number of milliseconds from last zoom/pan update when collision detection should trigger. Only relevant when <code>enabled</code> is set to <span
                        class="prop-type">"onDelay"</span></span>
                </li>
            </ul>
        </div>
    </div>
    <div>
        <h3 id="shared-group-sel">Group selection</h3>
        <p>
        Group selection is currently available only for lineage and lineage-scatter plots. It allows for selecting
        multiple
        nodes so that the nodes don't have to be selected one by one. To start the selection, hold CTRL key and press
        left
        mouse button and perform a drag choosing desired area. All the selected nodes are externally available through
        <code>selectedNodes</code> attribute.
        </p>
        <p>
            Definition in layout:
        </p>
        <div>
            <code>groupSelection</code>:
            <ul>
                <li><code>enabled</code> <span class="prop-type">(false | true || default: false)</span>
                    <span class="prop-desc"> Determines whether group selection is enabled.</span>
                </li>
                <li><code>selectionRectangle</code> <span class="prop-type">(object || default: { stroke-width: 1, stroke-dasharray: 4, rx: 3, ry: 3, stroke: steelblue })</span>
                    <span class="prop-desc">Determines the attributes of SVG rect which is used for group selection.</span>
                </li>
            </ul>
        </div>
    </div>
    <div>
        <h3 id="shared-heatmap">Heatmap</h3>
        <p>
        Heatmap is available for all plots. It allows to add an extra information layer for nodes in the plot which is
        shown in form of coloured circles under the nodes. In order to activate the heatmap, it must be enabled in the
        layout as well as the relevant node objects must have <code>z</code> property defined.
        </p>
        <p>
        Definition in layout:
        </p>
        <div>
            <code>heatmap</code> <span class="prop-type">(object)</span>:
            <ul>
                <li><code>enabled</code> <span class="prop-type">(false | true || default: false)</span>
                    <span class="prop-desc"> Determines whether heatmap is enabled.</span>
                </li>
                <li><code>colourScale</code> <span class="prop-type">(array of two element arrays || default: [[0, '#008ae5'], [1, 'yellow']])</span>
                <span class="prop-desc">Determines the colour range used for the heatmap. Currently, the array should have form <code>[[0,
                    colour1], [1, colour2]]</code>, where <code>colour1</code> and <code>colour2</code> correspond respectively to minimum and maximum values in heatmap layer.</span>
                </li>
                <li><code>colourBar</code><span class="prop-type">(object)</span>
                    <ul>
                        <li><code>show</code> <span class="prop-type">(false | true || default: true)</span>
                            <span class="prop-desc"> Determines whether heatmap's colourbar is shown.</span>
                        </li>
                        <li><code>height</code> <span class="prop-type">(number (of pixels) | string with percentage || default: "90%")</span>
                        <span class="prop-desc"> Determines the height of the colourbar. If a number is given, the colourbar will be that many pixels high,
                            if a string with percentage is given, its height will be relative to the total plot height.</span>
                        </li>
                        <li><code>width</code> <span class="prop-type">(number (of pixels) | string with percentage || default: 30)</span>
                        <span class="prop-desc"> Determines the height of the colourbar. If a number is given, the colourbar will be that many pixels wide,
                            if a string with percentage is given, its width will be relative to the total plot width.</span>
                        </li>
                        <li><code>position</code> <span class="prop-type">("right" || default: "right")</span>
                            <span class="prop-desc"> Determines the position of the colourbar in reference to the chart. Currently, the only supported position is <span
                                    class="prop-type">"right"</span>.</span>
                        </li>
                    </ul>
                </li>
                <li><code>circle</code> <span class="prop-type">(object || default: { r: 16 })</span>
                    <span class="prop-desc"> Determines the attributes of SVG circle which is used as heatmap circle layer behind the nodes.</span>
                </li>
                <li><code>opacity</code> <span class="prop-type">(number || default: 0.4)</span>
                    <span class="prop-desc"> Determines the opacity of heatmap circles and the colourbar.</span>
                </li>
            </ul>
        </div>
    </div>
    <div>
        <h3 id="shared-series">Series</h3>
        <p>
            Series support and legend are available for all plots. They allows add distinction between different series of nodes. To
            have nodes grouped in different series, <code>series</code> property of node objects should be assigned with the
            name of the series the node belongs to.
        </p>
        <p>
            Legend is optional and can be positioned through layout.
        </p>
        <p>
        Definition in layout:
        </p>
        <div>
            <code>legend</code> <span class="prop-type">(object)</span>:
            <ul>
                <li><code>show</code> <span class="prop-type">(false | true || default: false)</span>
                    <span class="prop-desc"> Determines whether legend is shown.</span>
                </li>
                <li><code>position</code> <span class="prop-type">(object)</span>
                    <ul>
                        <li><code>x</code> <span class="prop-type">("left" | "center" | "right" || default: "right")</span>
                            <span class="prop-desc"> Determines the horizontal position of the legend with reference to the chart.</span>
                        </li>
                        <li><code>y</code> <span class="prop-type">("top" | "center" | "bottom" || default: "center")</span>
                            <span class="prop-desc"> Determines the vertical position of the legend with reference to the chart.</span>
                        </li>
                    </ul>
                </li>
                <li><code>anchor</code> <span class="prop-type">(object)</span>
                    <ul>
                        <li><code>x</code> <span class="prop-type">("inside" | "outside" || default: "outside")</span>
                            <span class="prop-desc"> Determines the horizontal anchor of the legend with reference to the chart.</span>
                        </li>
                        <li><code>y</code> <span class="prop-type">("inside" | "outside" || default: "inside")</span>
                            <span class="prop-desc"> Determines the vertical anchor of the legend with reference to the chart.</span>
                        </li>
                    </ul>
                </li>
                <li><code>orientation</code> <span class="prop-type">("horizontal" | "vertical" || default: "vertical")</span>
                    <span class="prop-desc"> Determines the direction in which the legend is laid out.</span>
                </li>
            </ul>
        </div>
    </div>
    <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/biosustain/plotify">Plotify</a> is maintained by <a
                href="https://github.com/biosustain">biosustain</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a
                href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a
                href="https://twitter.com/jasonlong">Jason Long</a>.</span>
    </footer>

</section>


</body>
</html>
